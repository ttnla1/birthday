<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#ec4899">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Sinh nh·∫≠t">
  <title>Qu·∫£n l√Ω Sinh nh·∫≠t</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }
    
    .notification-enter {
      animation: slideIn 0.3s ease-out forwards;
    }
    
    .notification-exit {
      animation: slideOut 0.3s ease-in forwards;
    }
    
    .progress-bar {
      animation: shrink 5s linear forwards;
    }
    
    @keyframes shrink {
      from {
        width: 100%;
      }
      to {
        width: 0%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full"></div>
  <script>
    const STORAGE_KEY = 'birthday_manager_data';
    const NOTIFICATION_TIME = '07:00';
    
    const SAMPLE_DATA = [
      { name: "HU·ª≤NH PH√öC AN", birthday: "06/11" },
      { name: "PH√ô L√ù GIA AN", birthday: "27/04" },
      { name: "L√ä THANH QU·∫æ ANH", birthday: "20/08" },
      { name: "NGUY·ªÑN NG·ªåC TR√ÇM ANH", birthday: "23/09" },
      { name: "NGUY·ªÑN HU·ª≤NH GIA B·∫¢O", birthday: "17/04" },
      { name: "V≈® HO√ÄNG GIA C√ÅT", birthday: "08/12" },
      { name: "TR·∫¶N NG·ªåC MINH CH√ÇU", birthday: "23/03" },
      { name: "TR·∫¶N MINH DUY", birthday: "06/05" },
      { name: "NGUY·ªÑN HO√ÄNG ƒêÔøΩÔøΩÔøΩT", birthday: "12/09" },
      { name: "NG√î MINH ƒê√îNG", birthday: "17/12" },
      { name: "NGUY·ªÑN NG·ªåC ƒê·ª®C", birthday: "15/09" },
      { name: "L√ä NG√ÇN H·∫†NH", birthday: "31/10" },
      { name: "PH·∫†M NG·ªåC H√ÇN", birthday: "18/01" },
      { name: "T√î THU·∫¨N H√ôNG", birthday: "08/12" },
      { name: "NGUY·ªÑN MINH KHANG", birthday: "12/01" },
      { name: "TR·∫¶N ƒêƒÇNG KHOA", birthday: "16/02" },
      { name: "VƒÇN B√ôI ƒêƒÇNG KH√îI", birthday: "29/04" },
      { name: "NGUY·ªÑN H·ªíNG M·ª∏ KIM", birthday: "10/12" },
      { name: "TR·ªäNH TH·ªä NG·ªåC LINH", birthday: "09/02" },
      { name: "NGUY·ªÑN TI·ªÇU LONG", birthday: "30/04" },
      { name: "NGUY·ªÑN KH·∫ÆC HO√ÄNG MINH", birthday: "19/09" },
      { name: "L√ä NGUY·ªÑN TH·∫¢O MY", birthday: "17/04" },
      { name: "TR∆Ø∆†NG GIA NGHI", birthday: "30/08" },
      { name: "NGUY·ªÑN TR·∫¶N NH√ÇN", birthday: "14/02" },
      { name: "NGUY·ªÑN NGÔøΩÔøΩC B·∫¢O NHI", birthday: "02/01" },
      { name: "TR∆Ø∆†NG GIA PH√ÅT", birthday: "09/11" },
      { name: "NG√î GIA PH√ö", birthday: "10/06" },
      { name: "CAO MINH PH√öC", birthday: "27/10" },
      { name: "ƒêO√ÄN NH·∫¨T QUANG", birthday: "01/06" },
      { name: "NGUY·ªÑN MINH QU√ÇN", birthday: "24/11" },
      { name: "V≈® TH√ÅI T√ÇM", birthday: "31/12" },
      { name: "B√ôI L√ä NH∆Ø TH·∫¢O", birthday: "11/08" },
      { name: "NGUY·ªÑN TR·ªäNH THI√äN", birthday: "27/07" },
      { name: "L√ÇM HO√ÄNG GIA THU·∫¨N", birthday: "20/10" },
      { name: "L∆ØU B·∫¢O THY", birthday: "28/01" },
      { name: "V√ï MINH TR√ç", birthday: "18/10" },
      { name: "L√ä TH√öY THI√äN T√ö", birthday: "09/01" },
      { name: "NGUY·ªÑN C√ÅT T∆Ø·ªúNG", birthday: "04/03" },
      { name: "T·∫§T T·∫§N Vƒ®", birthday: "30/09" },
      { name: "L√ä NG·ªåC T∆Ø·ªúNG VY", birthday: "15/01" },
      { name: "NGUY·ªÑN NG·ªåC H√Ä VY", birthday: "25/03" },
      { name: "TR·ªäNH TU·∫§N VY", birthday: "10/08" },
      { name: "NGUY·ªÑN TH·ªä TH·∫¢O YÔøΩÔøΩN", birthday: "11/08" }
    ];
    
    let birthdays = [];
    let checkInterval = null;
    let lastCheckDate = null;
    let notificationPermission = false;
    
    function loadData() {
      const data = localStorage.getItem(STORAGE_KEY);
      if (data) {
        try {
          birthdays = JSON.parse(data);
        } catch (e) {
          birthdays = [];
        }
      }
    }
    
    function saveData() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(birthdays));
      renderApp();
    }
    
    async function requestNotificationPermission() {
      if (!("Notification" in window)) {
        showNotification('L·ªói', 'Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ th√¥ng b√°o!');
        return;
      }
      
      try {
        const permission = await Notification.requestPermission();
        notificationPermission = permission === "granted";
        
        if (notificationPermission) {
          showNotification('Th√†nh c√¥ng', 'ƒê√£ b·∫≠t th√¥ng b√°o sinh nh·∫≠t! B·∫°n s·∫Ω nh·∫≠n th√¥ng b√°o l√∫c 7h s√°ng m·ªói ng√†y.');
          
          // Test notification
          new Notification('üéÇ Th√¥ng b√°o ƒë√£ ho·∫°t ƒë·ªông!', {
            body: 'B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng b√°o sinh nh·∫≠t l√∫c 7h s√°ng m·ªói ng√†y.',
            icon: 'üéÇ',
            badge: 'üéÇ',
            vibrate: [200, 100, 200],
            tag: 'test-notification'
          });
        } else {
          showNotification('Th·∫•t b·∫°i', 'B·∫°n c·∫ßn cho ph√©p th√¥ng b√°o trong c√†i ƒë·∫∑t tr√¨nh duy·ªát.');
        }
      } catch (error) {
        showNotification('L·ªói', 'Kh√¥ng th·ªÉ y√™u c·∫ßu quy·ªÅn th√¥ng b√°o. Vui l√≤ng th·ª≠ l·∫°i!');
      }
      
      renderApp();
    }
    
    function startBirthdayCheck() {
      if (checkInterval) {
        clearInterval(checkInterval);
      }
      
      checkBirthdays();
      
      checkInterval = setInterval(() => {
        checkBirthdays();
      }, 60000);
    }
    
    function checkBirthdays() {
      const now = new Date();
      const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
      const currentDate = `${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}`;
      
      if (currentTime === NOTIFICATION_TIME && lastCheckDate !== currentDate) {
        lastCheckDate = currentDate;
        
        const todayBirthdays = birthdays.filter(birthday => {
          const [day, month] = birthday.birthday.split('/');
          const birthdayDate = `${day}/${month}`;
          return birthdayDate === currentDate;
        });
        
        if (todayBirthdays.length > 0) {
          const names = todayBirthdays.map(b => b.name).join(', ');
          
          showNotification(
            `üéÇ Sinh nh·∫≠t h√¥m nay! (${todayBirthdays.length})`,
            names
          );
          
          if (notificationPermission && "Notification" in window) {
            try {
              new Notification(`üéÇ Sinh nh·∫≠t h√¥m nay! (${todayBirthdays.length})`, {
                body: names,
                icon: 'üéÇ',
                badge: 'üéÇ',
                vibrate: [300, 100, 300, 100, 300],
                tag: 'birthday-notification',
                requireInteraction: true,
                silent: false
              });
            } catch (error) {
              console.log('Notification error:', error);
            }
          }
        }
      }
    }
    
    function showNotification(title, description) {
      const container = document.getElementById('notification-container');
      if (!container) return;
      
      const notification = document.createElement('div');
      notification.className = 'notification-enter bg-white rounded-lg shadow-2xl p-4 mb-3 border-l-4 border-pink-500 max-w-sm';
      
      notification.innerHTML = `
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 text-2xl">
            üéÇ
          </div>
          <div class="flex-1 min-w-0">
            <h4 class="font-semibold text-gray-900 mb-1">${title}</h4>
            <p class="text-sm text-gray-600">${description}</p>
          </div>
          <button onclick="this.closest('.notification-enter, .notification-exit').remove()" class="flex-shrink-0 text-gray-400 hover:text-gray-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
        <div class="mt-3 h-1 bg-gray-200 rounded-full overflow-hidden">
          <div class="progress-bar h-full bg-pink-500 rounded-full"></div>
        </div>
      `;
      
      container.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.remove('notification-enter');
        notification.classList.add('notification-exit');
        setTimeout(() => notification.remove(), 300);
      }, 5000);
    }
    
    function loadSampleData() {
      const button = document.getElementById('load-sample-btn');
      button.disabled = true;
      button.textContent = 'ƒêang t·∫£i...';
      
      let count = 0;
      const interval = setInterval(() => {
        if (count < SAMPLE_DATA.length) {
          const data = SAMPLE_DATA[count];
          birthdays.push({
            id: `sample-${Date.now()}-${count}`,
            name: data.name,
            birthday: data.birthday,
            createdAt: new Date().toISOString()
          });
          count++;
          button.textContent = `ƒêang t·∫£i... ${count}/${SAMPLE_DATA.length}`;
        } else {
          clearInterval(interval);
          saveData();
          showNotification('Ho√†n th√†nh!', `ƒê√£ t·∫£i ${SAMPLE_DATA.length} sinh nh·∫≠t th√†nh c√¥ng!`);
        }
      }, 50);
    }
    
    function getDaysUntilBirthday(birthdayStr) {
      const [day, month] = birthdayStr.split('/').map(Number);
      const now = new Date();
      const currentYear = now.getFullYear();
      
      let birthdayThisYear = new Date(currentYear, month - 1, day);
      
      if (birthdayThisYear < now) {
        birthdayThisYear = new Date(currentYear + 1, month - 1, day);
      }
      
      const diffTime = birthdayThisYear - now;
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      
      return diffDays;
    }
    
    function formatDaysUntil(days) {
      if (days === 0) return 'üéâ H√¥m nay!';
      if (days === 1) return 'üéà Ng√†y mai';
      if (days <= 7) return `‚è∞ ${days} ng√†y n·ªØa`;
      if (days <= 30) return `üìÖ ${days} ng√†y n·ªØa`;
      return `üìÜ ${days} ng√†y n·ªØa`;
    }
    
    function addBirthday(event) {
      event.preventDefault();
      
      const form = event.target;
      const name = form.querySelector('#name').value.trim();
      const birthday = form.querySelector('#birthday').value;
      
      if (!name || !birthday) {
        showNotification('L·ªói', 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t√™n v√† ng√†y sinh!');
        return;
      }
      
      birthdays.push({
        id: Date.now().toString(),
        name,
        birthday,
        createdAt: new Date().toISOString()
      });
      
      saveData();
      form.reset();
      showNotification('Th√†nh c√¥ng', `ƒê√£ th√™m sinh nh·∫≠t c·ªßa ${name}!`);
    }
    
    function deleteBirthday(id) {
      const card = document.querySelector(`[data-id="${id}"]`);
      const deleteBtn = card.querySelector('.delete-btn');
      const confirmBtn = card.querySelector('.confirm-delete-btn');
      
      if (confirmBtn) {
        birthdays = birthdays.filter(b => b.id !== id);
        saveData();
      } else {
        deleteBtn.style.display = 'none';
        const confirmContainer = document.createElement('div');
        confirmContainer.className = 'flex gap-2';
        confirmContainer.innerHTML = `
          <button class="confirm-delete-btn px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600">X√°c nh·∫≠n x√≥a?</button>
          <button class="cancel-delete-btn px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400">H·ªßy</button>
        `;
        deleteBtn.parentNode.appendChild(confirmContainer);
        
        confirmContainer.querySelector('.confirm-delete-btn').onclick = () => deleteBirthday(id);
        confirmContainer.querySelector('.cancel-delete-btn').onclick = () => {
          confirmContainer.remove();
          deleteBtn.style.display = 'block';
        };
      }
    }
    
    function exportData() {
      const dataStr = JSON.stringify(birthdays, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `birthdays-${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      URL.revokeObjectURL(url);
      showNotification('Th√†nh c√¥ng', 'ƒê√£ xu·∫•t d·ªØ li·ªáu!');
    }
    
    function importData() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = 'application/json';
      input.onchange = (e) => {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = (event) => {
          try {
            const importedData = JSON.parse(event.target.result);
            if (Array.isArray(importedData)) {
              birthdays = importedData;
              saveData();
              showNotification('Th√†nh c√¥ng', `ƒê√£ nh·∫≠p ${birthdays.length} sinh nh·∫≠t!`);
            } else {
              showNotification('L·ªói', 'File kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng!');
            }
          } catch (error) {
            showNotification('L·ªói', 'Kh√¥ng th·ªÉ ƒë·ªçc file!');
          }
        };
        reader.readAsText(file);
      };
      input.click();
    }
    
    function renderApp() {
      const app = document.getElementById('app');
      
      const sortedBirthdays = [...birthdays].sort((a, b) => {
        return getDaysUntilBirthday(a.birthday) - getDaysUntilBirthday(b.birthday);
      });
      
      const todayBirthdays = sortedBirthdays.filter(b => getDaysUntilBirthday(b.birthday) === 0);
      const upcomingBirthdays = sortedBirthdays.filter(b => getDaysUntilBirthday(b.birthday) > 0);
      
      const hasNotificationSupport = "Notification" in window;
      const notificationGranted = hasNotificationSupport && Notification.permission === "granted";
      
      app.innerHTML = `
        <div class="h-full w-full overflow-auto bg-gradient-to-br from-pink-50 via-purple-50 to-blue-50">
          <div class="max-w-4xl mx-auto p-4 sm:p-6">
            <header class="mb-6 sm:mb-8 text-center">
              <div class="text-5xl sm:text-6xl mb-3">üéÇ</div>
              <h1 class="text-3xl sm:text-4xl font-bold text-gray-800 mb-2">Qu·∫£n l√Ω Sinh nh·∫≠t</h1>
              <p class="text-sm sm:text-base text-gray-600">Nh·∫Øc nh·ªü l√∫c ${NOTIFICATION_TIME} m·ªói ng√†y</p>
              
              ${hasNotificationSupport && !notificationGranted ? `
                <div class="mt-4 px-4">
                  <button onclick="requestNotificationPermission()" class="w-full sm:w-auto px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors shadow-lg text-base sm:text-sm font-medium active:scale-95 transform">
                    üîî B·∫≠t th√¥ng b√°o
                  </button>
                  <p class="text-xs text-gray-500 mt-2">Nh·∫•n ƒë·ªÉ nh·∫≠n th√¥ng b√°o sinh nh·∫≠t h√†ng ng√†y</p>
                </div>
              ` : notificationGranted ? `
                <div class="mt-4 px-4 text-sm text-green-600 flex items-center justify-center gap-2">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <span>ƒê√£ b·∫≠t th√¥ng b√°o</span>
                </div>
              ` : ''}
            </header>
            
            ${birthdays.length === 0 ? `
              <div class="bg-white rounded-lg shadow-lg p-6 mb-6 border-2 border-dashed border-purple-300">
                <div class="text-center">
                  <div class="text-5xl mb-3">üéÅ</div>
                  <h3 class="text-xl font-semibold text-gray-800 mb-2">T·∫£i d·ªØ li·ªáu m·∫´u</h3>
                  <p class="text-gray-600 mb-4">T·∫£i s·∫µn 43 sinh nh·∫≠t c·ªßa l·ªõp h·ªçc</p>
                  <button onclick="loadSampleData()" id="load-sample-btn" class="px-6 py-3 bg-purple-500 text-white font-semibold rounded-lg hover:bg-purple-600 transition-colors">
                    üì• T·∫£i d·ªØ li·ªáu m·∫´u
                  </button>
                </div>
              </div>
            ` : ''}
            
            <div class="bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-6 sm:mb-8">
              <h2 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4">Th√™m sinh nh·∫≠t m·ªõi</h2>
              <form onsubmit="addBirthday(event)" class="space-y-4">
                <div>
                  <label for="name" class="block mb-2 font-medium text-gray-700 text-sm sm:text-base">H·ªç v√† t√™n</label>
                  <input type="text" id="name" required class="w-full px-4 py-3 sm:py-2 text-base sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" placeholder="V√≠ d·ª•: NGUY·ªÑN VƒÇN A">
                </div>
                <div>
                  <label for="birthday" class="block mb-2 font-medium text-gray-700 text-sm sm:text-base">Ng√†y sinh (DD/MM)</label>
                  <input type="text" id="birthday" required pattern="\\d{2}/\\d{2}" inputmode="numeric" class="w-full px-4 py-3 sm:py-2 text-base sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" placeholder="V√≠ d·ª•: 15/08">
                </div>
                <button type="submit" class="w-full py-3 sm:py-3 bg-pink-500 text-white font-semibold rounded-lg hover:bg-pink-600 transition-colors text-base active:scale-95 transform shadow-md">
                  Th√™m sinh nh·∫≠t
                </button>
              </form>
            </div>
            
            ${birthdays.length > 0 ? `
              <div class="flex flex-col sm:flex-row gap-3 mb-6">
                <button onclick="exportData()" class="flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors active:scale-95 transform shadow-md text-base font-medium">
                  üì§ Xu·∫•t d·ªØ li·ªáu
                </button>
                <button onclick="importData()" class="flex-1 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors active:scale-95 transform shadow-md text-base font-medium">
                  üì• Nh·∫≠p d·ªØ li·ªáu
                </button>
              </div>
            ` : ''}
            
            ${todayBirthdays.length > 0 ? `
              <div class="mb-6">
                <h2 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2">
                  <span>üéâ</span>
                  <span>Sinh nh·∫≠t h√¥m nay (${todayBirthdays.length})</span>
                </h2>
                <div class="space-y-3">
                  ${todayBirthdays.map(birthday => `
                    <div data-id="${birthday.id}" class="bg-white rounded-lg shadow-lg p-4 border-2 border-pink-500">
                      <div class="flex items-center gap-3 sm:gap-4">
                        <div class="text-2xl sm:text-3xl flex-shrink-0">üéÇ</div>
                        <div class="flex-1 min-w-0">
                          <h3 class="font-semibold text-gray-800 text-base sm:text-lg break-words">${birthday.name}</h3>
                          <p class="text-gray-600 text-xs sm:text-sm mt-1">üìÖ ${birthday.birthday} ‚Ä¢ ${formatDaysUntil(0)}</p>
                        </div>
                        <button onclick="deleteBirthday('${birthday.id}')" class="delete-btn flex-shrink-0 text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 active:bg-red-100">
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            ` : ''}
            
            <div class="space-y-4">
              <h2 class="text-lg sm:text-xl font-semibold text-gray-800 mb-4">Danh s√°ch sinh nh·∫≠t (${birthdays.length})</h2>
              ${birthdays.length === 0 ? `
                <div class="text-center py-12 bg-white rounded-lg shadow">
                  <div class="text-5xl sm:text-6xl mb-4">üéà</div>
                  <p class="text-gray-500 text-sm sm:text-base px-4">Ch∆∞a c√≥ sinh nh·∫≠t n√†o. Click n√∫t "T·∫£i d·ªØ li·ªáu m·∫´u" ·ªü tr√™n!</p>
                </div>
              ` : upcomingBirthdays.map(birthday => {
                const daysUntil = getDaysUntilBirthday(birthday.birthday);
                return `
                  <div data-id="${birthday.id}" class="bg-white rounded-lg shadow p-4 flex items-center gap-3 sm:gap-4">
                    <div class="text-xl sm:text-2xl flex-shrink-0">${daysUntil <= 7 ? 'üéà' : 'üéÅ'}</div>
                    <div class="flex-1 min-w-0">
                      <h3 class="font-semibold text-gray-800 text-sm sm:text-base break-words">${birthday.name}</h3>
                      <p class="text-gray-600 text-xs sm:text-sm mt-1">üìÖ ${birthday.birthday} ‚Ä¢ ${formatDaysUntil(daysUntil)}</p>
                    </div>
                    <button onclick="deleteBirthday('${birthday.id}')" class="delete-btn flex-shrink-0 text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 active:bg-red-100">
                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                      </svg>
                    </button>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
        </div>
        
        <div id="notification-container" class="fixed top-4 right-4 left-4 sm:left-auto z-50 max-w-sm mx-auto sm:mx-0"></div>
      `;
    }
    
    function initApp() {
      loadData();
      renderApp();
      startBirthdayCheck();
      
      if ("Notification" in window && Notification.permission === "granted") {
        notificationPermission = true;
      }
    }
    
    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b8a8a380451c7ba',t:'MTc2NzUyNzY1My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
