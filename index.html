<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Manager</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }
    
    .notification-enter {
      animation: slideIn 0.3s ease-out forwards;
    }
    
    .notification-exit {
      animation: slideOut 0.3s ease-in forwards;
    }
    
    .progress-bar {
      animation: shrink 5s linear forwards;
    }
    
    @keyframes shrink {
      from {
        width: 100%;
      }
      to {
        width: 0%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full"></div>
  <script>
    const defaultConfig = {
      background_color: "#fef3f2",
      card_color: "#ffffff",
      text_color: "#1a202c",
      primary_action_color: "#ec4899",
      secondary_action_color: "#8b5cf6",
      app_title: "Qu·∫£n l√Ω sinh nh·∫≠t",
      add_button_text: "Th√™m sinh nh·∫≠t",
      notification_time: "07:00",
      font_family: "system-ui",
      font_size: 16
    };
    
    const SAMPLE_DATA = [
      { name: "HU·ª≤NH PH√öC AN", birthday: "06/11" },
      { name: "PH√ô L√ù GIA AN", birthday: "27/04" },
      { name: "L√ä THANH QU·∫æ ANH", birthday: "20/08" },
      { name: "NGUY·ªÑN NG·ªåC TR√ÇM ANH", birthday: "23/09" },
      { name: "NGUY·ªÑN HU·ª≤NH GIA B·∫¢O", birthday: "17/04" },
      { name: "V≈® HO√ÄNG GIA C√ÅT", birthday: "08/12" },
      { name: "TR·∫¶N NG·ªåC MINH CH√ÇU", birthday: "23/03" },
      { name: "TR·∫¶N MINH DUY", birthday: "06/05" },
      { name: "NGUY·ªÑN HO√ÄNG ƒê·∫†T", birthday: "12/09" },
      { name: "NG√î MINH ƒê√îNG", birthday: "17/12" },
      { name: "NGUY·ªÑN NG·ªåC ƒê·ª®C", birthday: "15/09" },
      { name: "L√ä NG√ÇN H·∫†NH", birthday: "31/10" },
      { name: "PH·∫†M NG·ªåC H√ÇN", birthday: "18/01" },
      { name: "T√î THU·∫¨N H√ôNG", birthday: "08/12" },
      { name: "NGUY·ªÑN MINH KHANG", birthday: "12/01" },
      { name: "TR·∫¶N ƒêƒÇNG KHOA", birthday: "16/02" },
      { name: "VƒÇN B√ôI ƒêƒÇNG KH√îI", birthday: "29/04" },
      { name: "NGUY·ªÑN H·ªíNG M·ª∏ KIM", birthday: "10/12" },
      { name: "TR·ªäNH TH·ªä NG·ªåC LINH", birthday: "09/02" },
      { name: "NGUY·ªÑN TI·ªÇU LONG", birthday: "30/04" },
      { name: "NGUY·ªÑN KH·∫ÆC HO√ÄNG MINH", birthday: "19/09" },
      { name: "L√ä NGUY·ªÑN TH·∫¢O MY", birthday: "17/04" },
      { name: "TR∆Ø∆†NG GIA NGHI", birthday: "30/08" },
      { name: "NGUY·ªÑN TR·∫¶N NH√ÇN", birthday: "14/02" },
      { name: "NGUY·ªÑN NG·ªåC B·∫¢O NHI", birthday: "02/01" },
      { name: "TR∆Ø∆†NG GIA PH√ÅT", birthday: "09/11" },
      { name: "NG√î GIA PH√ö", birthday: "10/06" },
      { name: "CAO MINH PH√öC", birthday: "27/10" },
      { name: "ƒêO√ÄN NH·∫¨T QUANG", birthday: "01/06" },
      { name: "NGUY·ªÑN MINH QU√ÇN", birthday: "24/11" },
      { name: "V≈® TH√ÅI T√ÇM", birthday: "31/12" },
      { name: "B√ôI L√ä NH∆Ø TH·∫¢O", birthday: "11/08" },
      { name: "NGUY·ªÑN TR·ªäNH THI√äN", birthday: "27/07" },
      { name: "L√ÇM HO√ÄNG GIA THU·∫¨N", birthday: "20/10" },
      { name: "L∆ØU B·∫¢O THY", birthday: "28/01" },
      { name: "V√ï MINH TR√ç", birthday: "18/10" },
      { name: "L√ä TH√öY THI√äN T√ö", birthday: "09/01" },
      { name: "NGUY·ªÑN C√ÅT T∆Ø·ªúNG", birthday: "04/03" },
      { name: "T·∫§T T·∫§N Vƒ®", birthday: "30/09" },
      { name: "L√ä NG·ªåC T∆Ø·ªúNG VY", birthday: "15/01" },
      { name: "NGUY·ªÑN NG·ªåC H√Ä VY", birthday: "25/03" },
      { name: "TR·ªäNH TU·∫§N VY", birthday: "10/08" },
      { name: "NGUY·ªÑN TH·ªä TH·∫¢O Y·∫æN", birthday: "11/08" }
    ];
    
    let birthdays = [];
    let checkInterval = null;
    let lastCheckDate = null;
    
    const dataHandler = {
      onDataChanged(data) {
        birthdays = data;
        renderApp();
        startBirthdayCheck();
      }
    };
    
    function startBirthdayCheck() {
      if (checkInterval) {
        clearInterval(checkInterval);
      }
      
      checkBirthdays();
      
      checkInterval = setInterval(() => {
        checkBirthdays();
      }, 60000);
    }
    
    function checkBirthdays() {
      const config = window.elementSdk?.config || defaultConfig;
      const notificationTime = config.notification_time || defaultConfig.notification_time;
      
      const now = new Date();
      const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
      const currentDate = `${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}`;
      
      if (currentTime === notificationTime && lastCheckDate !== currentDate) {
        lastCheckDate = currentDate;
        
        const todayBirthdays = birthdays.filter(birthday => {
          const [day, month] = birthday.birthday.split('/');
          const birthdayDate = `${day}/${month}`;
          return birthdayDate === currentDate;
        });
        
        if (todayBirthdays.length > 0) {
          const names = todayBirthdays.map(b => b.name).join(', ');
          showNotification(
            `üéÇ Sinh nh·∫≠t h√¥m nay! (${todayBirthdays.length})`,
            names
          );
        }
      }
    }
    
    function showNotification(title, description) {
      const container = document.getElementById('notification-container');
      
      const notification = document.createElement('div');
      notification.className = 'notification-enter bg-white rounded-lg shadow-2xl p-4 mb-3 border-l-4 max-w-sm';
      notification.style.borderLeftColor = window.elementSdk?.config?.primary_action_color || defaultConfig.primary_action_color;
      
      notification.innerHTML = `
        <div class="flex items-start gap-3">
          <div class="flex-shrink-0 text-2xl">
            üéÇ
          </div>
          <div class="flex-1 min-w-0">
            <h4 class="font-semibold text-gray-900 mb-1">${title}</h4>
            <p class="text-sm text-gray-600">${description}</p>
          </div>
          <button onclick="this.closest('.notification-enter, .notification-exit').remove()" class="flex-shrink-0 text-gray-400 hover:text-gray-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
        <div class="mt-3 h-1 bg-gray-200 rounded-full overflow-hidden">
          <div class="progress-bar h-full rounded-full" style="background-color: ${window.elementSdk?.config?.primary_action_color || defaultConfig.primary_action_color}"></div>
        </div>
      `;
      
      container.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.remove('notification-enter');
        notification.classList.add('notification-exit');
        setTimeout(() => notification.remove(), 300);
      }, 5000);
    }
    
    async function loadSampleData() {
      const button = document.getElementById('load-sample-btn');
      button.disabled = true;
      button.textContent = 'ƒêang t·∫£i...';
      
      let successCount = 0;
      let failCount = 0;
      
      for (let i = 0; i < SAMPLE_DATA.length; i++) {
        const data = SAMPLE_DATA[i];
        const result = await window.dataSdk.create({
          id: `sample-${Date.now()}-${i}`,
          name: data.name,
          birthday: data.birthday,
          createdAt: new Date().toISOString()
        });
        
        if (result.isOk) {
          successCount++;
        } else {
          failCount++;
        }
        
        button.textContent = `ƒêang t·∫£i... ${i + 1}/${SAMPLE_DATA.length}`;
      }
      
      showNotification('Ho√†n th√†nh!', `ƒê√£ t·∫£i ${successCount} sinh nh·∫≠t th√†nh c√¥ng!`);
    }
    
    function getDaysUntilBirthday(birthdayStr) {
      const [day, month] = birthdayStr.split('/').map(Number);
      const now = new Date();
      const currentYear = now.getFullYear();
      
      let birthdayThisYear = new Date(currentYear, month - 1, day);
      
      if (birthdayThisYear < now) {
        birthdayThisYear = new Date(currentYear + 1, month - 1, day);
      }
      
      const diffTime = birthdayThisYear - now;
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      
      return diffDays;
    }
    
    function formatDaysUntil(days) {
      if (days === 0) return 'üéâ H√¥m nay!';
      if (days === 1) return 'üéà Ng√†y mai';
      if (days <= 7) return `‚è∞ ${days} ng√†y n·ªØa`;
      if (days <= 30) return `üìÖ ${days} ng√†y n·ªØa`;
      return `üìÜ ${days} ng√†y n·ªØa`;
    }
    
    async function addBirthday(event) {
      event.preventDefault();
      
      const form = event.target;
      const name = form.querySelector('#name').value.trim();
      const birthday = form.querySelector('#birthday').value;
      
      if (!name || !birthday) {
        showNotification('L·ªói', 'Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß t√™n v√† ng√†y sinh!');
        return;
      }
      
      if (birthdays.length >= 999) {
        showNotification('Gi·ªõi h·∫°n', 'ƒê√£ ƒë·∫°t gi·ªõi h·∫°n 999 sinh nh·∫≠t. Vui l√≤ng x√≥a b·ªõt!');
        return;
      }
      
      const button = form.querySelector('button[type="submit"]');
      button.disabled = true;
      button.textContent = 'ƒêang th√™m...';
      
      const result = await window.dataSdk.create({
        id: Date.now().toString(),
        name,
        birthday,
        createdAt: new Date().toISOString()
      });
      
      button.disabled = false;
      button.textContent = window.elementSdk?.config?.add_button_text || defaultConfig.add_button_text;
      
      if (result.isOk) {
        form.reset();
        showNotification('Th√†nh c√¥ng', `ƒê√£ th√™m sinh nh·∫≠t c·ªßa ${name}!`);
      } else {
        showNotification('L·ªói', 'Kh√¥ng th·ªÉ th√™m sinh nh·∫≠t. Vui l√≤ng th·ª≠ l·∫°i!');
      }
    }
    
    async function deleteBirthday(birthday) {
      const card = document.querySelector(`[data-id="${birthday.__backendId}"]`);
      const deleteBtn = card.querySelector('.delete-btn');
      const confirmBtn = card.querySelector('.confirm-delete-btn');
      
      if (confirmBtn) {
        confirmBtn.disabled = true;
        confirmBtn.textContent = 'ƒêang x√≥a...';
        
        const result = await window.dataSdk.delete(birthday);
        
        if (!result.isOk) {
          confirmBtn.disabled = false;
          confirmBtn.textContent = 'X√°c nh·∫≠n x√≥a?';
          showNotification('L·ªói', 'Kh√¥ng th·ªÉ x√≥a sinh nh·∫≠t!');
        }
      } else {
        deleteBtn.style.display = 'none';
        const confirmContainer = document.createElement('div');
        confirmContainer.className = 'flex gap-2';
        confirmContainer.innerHTML = `
          <button class="confirm-delete-btn px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600">X√°c nh·∫≠n x√≥a?</button>
          <button class="cancel-delete-btn px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400">H·ªßy</button>
        `;
        deleteBtn.parentNode.appendChild(confirmContainer);
        
        confirmContainer.querySelector('.confirm-delete-btn').onclick = () => deleteBirthday(birthday);
        confirmContainer.querySelector('.cancel-delete-btn').onclick = () => {
          confirmContainer.remove();
          deleteBtn.style.display = 'block';
        };
      }
    }
    
    function renderApp() {
      const config = window.elementSdk?.config || defaultConfig;
      const app = document.getElementById('app');
      
      app.style.backgroundColor = config.background_color;
      app.style.fontFamily = `${config.font_family}, system-ui, sans-serif`;
      
      const sortedBirthdays = [...birthdays].sort((a, b) => {
        return getDaysUntilBirthday(a.birthday) - getDaysUntilBirthday(b.birthday);
      });
      
      const todayBirthdays = sortedBirthdays.filter(b => getDaysUntilBirthday(b.birthday) === 0);
      const upcomingBirthdays = sortedBirthdays.filter(b => getDaysUntilBirthday(b.birthday) > 0);
      
      app.innerHTML = `
        <div class="h-full w-full overflow-auto">
          <div class="max-w-4xl mx-auto p-6">
            <header class="mb-8 text-center">
              <div class="text-6xl mb-3">üéÇ</div>
              <h1 class="font-bold mb-2" style="color: ${config.text_color}; font-size: ${config.font_size * 2}px">${config.app_title}</h1>
              <p class="text-gray-600" style="font-size: ${config.font_size * 0.9}px">Nh·∫Øc nh·ªü l√∫c ${config.notification_time} m·ªói ng√†y</p>
            </header>
            
            ${birthdays.length === 0 ? `
              <div class="rounded-lg shadow-lg p-6 mb-6" style="background-color: ${config.card_color}; border: 2px dashed ${config.secondary_action_color}">
                <div class="text-center">
                  <div class="text-5xl mb-3">üéÅ</div>
                  <h3 class="font-semibold mb-2" style="color: ${config.text_color}; font-size: ${config.font_size * 1.2}px">T·∫£i d·ªØ li·ªáu m·∫´u</h3>
                  <p class="text-gray-600 mb-4" style="font-size: ${config.font_size * 0.9}px">T·∫£i s·∫µn 43 sinh nh·∫≠t c·ªßa l·ªõp h·ªçc</p>
                  <button onclick="loadSampleData()" id="load-sample-btn" class="px-6 py-3 text-white font-semibold rounded-lg hover:opacity-90 transition-opacity" style="background-color: ${config.secondary_action_color}; font-size: ${config.font_size}px">
                    üì• T·∫£i d·ªØ li·ªáu m·∫´u
                  </button>
                </div>
              </div>
            ` : ''}
            
            <div class="rounded-lg shadow-lg p-6 mb-8" style="background-color: ${config.card_color}">
              <h2 class="font-semibold mb-4" style="color: ${config.text_color}; font-size: ${config.font_size * 1.3}px">Th√™m sinh nh·∫≠t m·ªõi</h2>
              <form onsubmit="addBirthday(event)" class="space-y-4">
                <div>
                  <label for="name" class="block mb-2 font-medium" style="color: ${config.text_color}; font-size: ${config.font_size}px">H·ªç v√† t√™n</label>
                  <input type="text" id="name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" style="font-size: ${config.font_size * 0.9}px" placeholder="V√≠ d·ª•: NGUY·ªÑN VƒÇN A">
                </div>
                <div>
                  <label for="birthday" class="block mb-2 font-medium" style="color: ${config.text_color}; font-size: ${config.font_size}px">Ng√†y sinh (DD/MM)</label>
                  <input type="text" id="birthday" required pattern="\\d{2}/\\d{2}" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent" style="font-size: ${config.font_size * 0.9}px" placeholder="V√≠ d·ª•: 15/08">
                </div>
                <button type="submit" class="w-full py-3 text-white font-semibold rounded-lg hover:opacity-90 transition-opacity" style="background-color: ${config.primary_action_color}; font-size: ${config.font_size}px">
                  ${config.add_button_text}
                </button>
              </form>
            </div>
            
            ${todayBirthdays.length > 0 ? `
              <div class="mb-6">
                <h2 class="font-semibold mb-4 flex items-center gap-2" style="color: ${config.text_color}; font-size: ${config.font_size * 1.3}px">
                  <span>üéâ</span>
                  <span>Sinh nh·∫≠t h√¥m nay (${todayBirthdays.length})</span>
                </h2>
                <div class="space-y-3">
                  ${todayBirthdays.map(birthday => `
                    <div data-id="${birthday.__backendId}" class="rounded-lg shadow-lg p-4 border-2" style="background-color: ${config.card_color}; border-color: ${config.primary_action_color}">
                      <div class="flex items-center gap-4">
                        <div class="text-3xl">üéÇ</div>
                        <div class="flex-1 min-w-0">
                          <h3 class="font-semibold" style="color: ${config.text_color}; font-size: ${config.font_size * 1.1}px">${birthday.name}</h3>
                          <p class="text-gray-600 mt-1" style="font-size: ${config.font_size * 0.85}px">üìÖ ${birthday.birthday} ‚Ä¢ ${formatDaysUntil(0)}</p>
                        </div>
                        <button onclick="deleteBirthday(${JSON.stringify(birthday).replace(/"/g, '&quot;')})" class="delete-btn flex-shrink-0 text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50">
                          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                          </svg>
                        </button>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            ` : ''}
            
            <div class="space-y-4">
              <h2 class="font-semibold mb-4" style="color: ${config.text_color}; font-size: ${config.font_size * 1.3}px">Danh s√°ch sinh nh·∫≠t (${birthdays.length})</h2>
              ${birthdays.length === 0 ? `
                <div class="text-center py-12 rounded-lg" style="background-color: ${config.card_color}">
                  <div class="text-6xl mb-4">üéà</div>
                  <p class="text-gray-500" style="font-size: ${config.font_size}px">Ch∆∞a c√≥ sinh nh·∫≠t n√†o. Click n√∫t "T·∫£i d·ªØ li·ªáu m·∫´u" ·ªü tr√™n!</p>
                </div>
              ` : upcomingBirthdays.map(birthday => {
                const daysUntil = getDaysUntilBirthday(birthday.birthday);
                return `
                  <div data-id="${birthday.__backendId}" class="rounded-lg shadow p-4 flex items-center gap-4" style="background-color: ${config.card_color}">
                    <div class="text-2xl">${daysUntil <= 7 ? 'üéà' : 'üéÅ'}</div>
                    <div class="flex-1 min-w-0">
                      <h3 class="font-semibold" style="color: ${config.text_color}; font-size: ${config.font_size * 1.1}px">${birthday.name}</h3>
                      <p class="text-gray-600 mt-1" style="font-size: ${config.font_size * 0.85}px">üìÖ ${birthday.birthday} ‚Ä¢ ${formatDaysUntil(daysUntil)}</p>
                    </div>
                    <button onclick="deleteBirthday(${JSON.stringify(birthday).replace(/"/g, '&quot;')})" class="delete-btn flex-shrink-0 text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50">
                      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                      </svg>
                    </button>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
        </div>
        
        <div id="notification-container" class="fixed top-4 right-4 z-50 max-w-sm"></div>
      `;
    }
    
    async function onConfigChange(config) {
      renderApp();
      startBirthdayCheck();
    }
    
    async function initApp() {
      const initResult = await window.dataSdk.init(dataHandler);
      if (!initResult.isOk) {
        console.error("Failed to initialize data SDK");
        return;
      }
      
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange,
          mapToCapabilities: (config) => ({
            recolorables: [
              {
                get: () => config.background_color || defaultConfig.background_color,
                set: (value) => {
                  config.background_color = value;
                  window.elementSdk.setConfig({ background_color: value });
                }
              },
              {
                get: () => config.card_color || defaultConfig.card_color,
                set: (value) => {
                  config.card_color = value;
                  window.elementSdk.setConfig({ card_color: value });
                }
              },
              {
                get: () => config.text_color || defaultConfig.text_color,
                set: (value) => {
                  config.text_color = value;
                  window.elementSdk.setConfig({ text_color: value });
                }
              },
              {
                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                set: (value) => {
                  config.primary_action_color = value;
                  window.elementSdk.setConfig({ primary_action_color: value });
                }
              },
              {
                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                set: (value) => {
                  config.secondary_action_color = value;
                  window.elementSdk.setConfig({ secondary_action_color: value });
                }
              }
            ],
            borderables: [],
            fontEditable: {
              get: () => config.font_family || defaultConfig.font_family,
              set: (value) => {
                config.font_family = value;
                window.elementSdk.setConfig({ font_family: value });
              }
            },
            fontSizeable: {
              get: () => config.font_size || defaultConfig.font_size,
              set: (value) => {
                config.font_size = value;
                window.elementSdk.setConfig({ font_size: value });
              }
            }
          }),
          mapToEditPanelValues: (config) => new Map([
            ["app_title", config.app_title || defaultConfig.app_title],
            ["add_button_text", config.add_button_text || defaultConfig.add_button_text],
            ["notification_time", config.notification_time || defaultConfig.notification_time]
          ])
        });
      }
      
      renderApp();
    }
    
    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b8a70492204c7ba',t:'MTc2NzUyNjU5MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
